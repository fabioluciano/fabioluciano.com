---
// =============================================================================
// Tag Page - Redirects to default locale
// =============================================================================

import SilentRedirect from '@/layouts/SilentRedirect.astro';
import { getAllPosts } from '@/lib/posts';

export async function getStaticPaths() {
  const posts = await getAllPosts();
  const tags = new Set<string>();

  posts.forEach((post) => {
    post.data.tags.forEach((tag) => tags.add(tag));
  });

  return Array.from(tags).map((tag) => ({
    params: { tag },
  }));
}

const { tag } = Astro.params;
---

<SilentRedirect to={`/pt/tags/${tag}`} />
